<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Python数据分析与展示_3_Numpy数据存取与函数 | 香蕉弦定李</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python数据分析与展示_3_Numpy数据存取与函数</h1><a id="logo" href="/.">香蕉弦定李</a><p class="description">学习笔记</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Python数据分析与展示_3_Numpy数据存取与函数</h1><div class="post-meta">Apr 2, 2019<span> | </span><span class="category"><a href="/categories/python/">python</a></span></div><div class="post-content"><h3 id="数据CSV文件存取"><a href="#数据CSV文件存取" class="headerlink" title="数据CSV文件存取"></a>数据CSV文件存取</h3><p>CSV(Comma‐Separated Value, 逗号分隔值)是一种常见的文件格式，用来存储批量数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">城市,环比,同比,定基</span><br><span class="line">北京,101.5,120.7,121.4</span><br><span class="line">上海,101.2,127.3,127.8</span><br><span class="line">广州,101.3,119.4,120.0</span><br><span class="line">深圳,102.0,140.9,145.5</span><br><span class="line">沈阳,100.1,101.4,101.6</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">np.savetxt(frame, array, fmt=&apos;%.18e&apos;, delimiter=None)</span><br><span class="line">• frame : 文件、字符串或产生器，可以是.gz或.bz2的压缩文件</span><br><span class="line">• array : 存入文件的数组</span><br><span class="line">• fmt : 写入文件的格式，例如：%d %.2f %.18e</span><br><span class="line">• delimiter : 分割字符串，默认是任何空格</span><br></pre></td></tr></table></figure>

<p>存：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">a=np.arange(100).reshape(5,20)</span><br><span class="line">np.savetxt(&apos;C:/Users/HASEE/Desktop/a.csv&apos;,a,fmt=&apos;%d&apos;,delimiter=&apos;,&apos;)</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line">  File &quot;&lt;ipython-input-7-725d28f63f7c&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    np.savetxt(&apos;C:/Users/HASEE/Desktop/a.csv&apos;,a,fmt=&apos;%d&apos;,delimeter=&apos;,&apos;)</span><br><span class="line"></span><br><span class="line">TypeError: savetxt() got an unexpected keyword argument &apos;delimeter&apos;</span><br><span class="line"></span><br><span class="line">问题原因:</span><br><span class="line">在文件夹中复制地址时，文件夹中的地址是用 \ 来分隔不同文件夹的，而Python识别地址时只能识别用 / 分隔的地址。</span><br><span class="line"></span><br><span class="line">解决方法:</span><br><span class="line">将从文件夹中复制过来的地址中的 \ 都改成 / </span><br><span class="line"></span><br><span class="line">np.savetxt(&apos;C:/Users/HASEE/Desktop/a.csv&apos;,a,fmt=&apos;%d&apos;,delimiter=&apos;,&apos;)</span><br></pre></td></tr></table></figure>

<p>取</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">np.loadtxt(frame, dtype=np.float, delimiter=None， unpack=False)</span><br><span class="line">• frame : 文件、字符串或产生器，可以是.gz或.bz2的压缩文件</span><br><span class="line">• dtype : 数据类型，可选</span><br><span class="line">• delimiter : 分割字符串，默认是任何空格</span><br><span class="line">• unpack  : 如果True，读入属性将分别写入不同变量</span><br><span class="line"></span><br><span class="line">b=np.loadtxt(&apos;C:/Users/HASEE/Desktop/a.csv&apos;,delimiter=&apos;,&apos;,dtype=np.int)</span><br><span class="line"></span><br><span class="line">b</span><br><span class="line">Out[13]: </span><br><span class="line">array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15,</span><br><span class="line">        16, 17, 18, 19],</span><br><span class="line">       [20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,</span><br><span class="line">        36, 37, 38, 39],</span><br><span class="line">       [40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55,</span><br><span class="line">        56, 57, 58, 59],</span><br><span class="line">       [60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75,</span><br><span class="line">        76, 77, 78, 79],</span><br><span class="line">       [80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,</span><br><span class="line">        96, 97, 98, 99]])</span><br></pre></td></tr></table></figure>

<p>csv文件的局限性：</p>
<ul>
<li>CSV只能有效存储一维和二维数组</li>
<li>np.savetxt() np.loadtxt()只能有效存取一维和二维数组<h3 id="多维数据的存取"><a href="#多维数据的存取" class="headerlink" title="多维数据的存取"></a>多维数据的存取</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">a.tofile(frame, sep=&apos;&apos;, format=&apos;%s&apos;)</span><br><span class="line">• frame  : 文件、字符串</span><br><span class="line">• sep : 数据分割字符串，如果是空串，写入文件为二进制</span><br><span class="line">• format : 写入数据的格式</span><br><span class="line"></span><br><span class="line">a=np.arange(100).reshape(5,10,2)</span><br><span class="line">a.tofile(&apos;C:/Users/HASEE/Desktop/b.dat&apos;,sep=&apos;,&apos;,format=&apos;%d&apos;)</span><br><span class="line">c=np.fromfile(&apos;C:/Users/HASEE/Desktop/b.dat&apos;,sep=&apos;,&apos;,dtype=np.int,count=-1)</span><br><span class="line"></span><br><span class="line">c</span><br><span class="line">Out[18]: </span><br><span class="line">array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,</span><br><span class="line">       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,</span><br><span class="line">       34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50,</span><br><span class="line">       51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67,</span><br><span class="line">       68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84,</span><br><span class="line">       85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99])</span><br><span class="line"></span><br><span class="line">c.reshape(2,5,10)</span><br><span class="line">Out[20]: </span><br><span class="line">array([[[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],</span><br><span class="line">        [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],</span><br><span class="line">        [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],</span><br><span class="line">        [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],</span><br><span class="line">        [40, 41, 42, 43, 44, 45, 46, 47, 48, 49]],</span><br><span class="line"></span><br><span class="line">       [[50, 51, 52, 53, 54, 55, 56, 57, 58, 59],</span><br><span class="line">        [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],</span><br><span class="line">        [70, 71, 72, 73, 74, 75, 76, 77, 78, 79],</span><br><span class="line">        [80, 81, 82, 83, 84, 85, 86, 87, 88, 89],</span><br><span class="line">        [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]]])</span><br><span class="line">        </span><br><span class="line">该方法需要读取时知道存入文件时数组的维度和元素类型</span><br><span class="line">a.tofile()和np.fromfile()需要配合使用</span><br><span class="line">可以通过元数据文件来存储额外信息</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>Numpy的随机文件存取</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">np.save(fname, array) 或 np.savez(fname, array)</span><br><span class="line">• fname : 文件名，以.npy为扩展名，压缩扩展名为.npz</span><br><span class="line">• array  : 数组变量</span><br><span class="line">np.load(fname)</span><br><span class="line">• fname : 文件名，以.npy为扩展名，压缩扩展名为.npz</span><br><span class="line"></span><br><span class="line"> a=np.arange(100).reshape(5,10,2)</span><br><span class="line"></span><br><span class="line">np.save(&apos;a.npy&apos;,a)</span><br><span class="line"></span><br><span class="line"> b=np.load(&apos;a.npy&apos;)</span><br><span class="line"></span><br><span class="line">b</span><br><span class="line">Out[25]: </span><br><span class="line">array([[[ 0,  1],</span><br><span class="line">        [ 2,  3],</span><br><span class="line">        [ 4,  5],</span><br><span class="line">        [ 6,  7],</span><br><span class="line">        [ 8,  9],</span><br><span class="line">        [10, 11],</span><br><span class="line">        [12, 13],</span><br><span class="line">        [14, 15],</span><br><span class="line">        [16, 17],</span><br><span class="line">        [18, 19]],</span><br><span class="line"></span><br><span class="line">       [[20, 21],</span><br><span class="line">        [22, 23],</span><br><span class="line">        [24, 25],</span><br><span class="line">        [26, 27],</span><br><span class="line">        [28, 29],</span><br><span class="line">        [30, 31],</span><br><span class="line">        [32, 33],</span><br><span class="line">        [34, 35],</span><br><span class="line">        [36, 37],</span><br><span class="line">        [38, 39]],</span><br><span class="line"></span><br><span class="line">       [[40, 41],</span><br><span class="line">        [42, 43],</span><br><span class="line">        [44, 45],</span><br><span class="line">        [46, 47],</span><br><span class="line">        [48, 49],</span><br><span class="line">        [50, 51],</span><br><span class="line">        [52, 53],</span><br><span class="line">        [54, 55],</span><br><span class="line">        [56, 57],</span><br><span class="line">        [58, 59]],</span><br><span class="line"></span><br><span class="line">       [[60, 61],</span><br><span class="line">        [62, 63],</span><br><span class="line">        [64, 65],</span><br><span class="line">        [66, 67],</span><br><span class="line">        [68, 69],</span><br><span class="line">        [70, 71],</span><br><span class="line">        [72, 73],</span><br><span class="line">        [74, 75],</span><br><span class="line">        [76, 77],</span><br><span class="line">        [78, 79]],</span><br><span class="line"></span><br><span class="line">       [[80, 81],</span><br><span class="line">        [82, 83],</span><br><span class="line">        [84, 85],</span><br><span class="line">        [86, 87],</span><br><span class="line">        [88, 89],</span><br><span class="line">        [90, 91],</span><br><span class="line">        [92, 93],</span><br><span class="line">        [94, 95],</span><br><span class="line">        [96, 97],</span><br><span class="line">        [98, 99]]])</span><br></pre></td></tr></table></figure>

<h3 id="Numpy随机数函数子库"><a href="#Numpy随机数函数子库" class="headerlink" title="Numpy随机数函数子库"></a>Numpy随机数函数子库</h3><table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>rand(d0,d1,..,dn)</td>
<td>根据d0‐dn创建随机数数组，浮点数，[0,1)，均匀分布</td>
</tr>
<tr>
<td>randn(d0,d1,..,dn)</td>
<td>根据d0‐dn创建随机数数组，标准正态分布</td>
</tr>
<tr>
<td>randint(low[,high,shape])</td>
<td>根据shape创建随机整数或整数数组，范围是[low, high)</td>
</tr>
<tr>
<td>seed(s)</td>
<td>随机数种子，s是给定的种子值,种子值相同，生成的随机数也相同</td>
</tr>
<tr>
<td>shuffle(a)</td>
<td>根据数组a的第1轴进行随排列，改变数组x</td>
</tr>
<tr>
<td>permutation(a)</td>
<td>根据数组a的第1轴产生一个新的乱序数组，不改变数组x</td>
</tr>
<tr>
<td>choice(a[,size,replace,p])</td>
<td>从一维数组a中以概率p抽取元素，形成size形状新数组replace表示是否可以重用元素，默认为False</td>
</tr>
<tr>
<td>uniform(low,high,size)</td>
<td>产生具有均匀分布的数组,low起始值,high结束值,size形状</td>
</tr>
<tr>
<td>normal(loc,scale,size)</td>
<td>产生具有正态分布的数组,loc均值,scale标准差,size形状</td>
</tr>
<tr>
<td>poisson(lam,size)</td>
<td>产生具有泊松分布的数组,lam随机事件发生率,size形状</td>
</tr>
<tr>
<td><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">a=np.random.rand(3,4,5)</span><br><span class="line">a</span><br><span class="line">out:</span><br><span class="line">array([[[0.24639253, 0.722497  , 0.06705677, 0.57236565, 0.28976888],</span><br><span class="line">        [0.72545351, 0.63711307, 0.7305934 , 0.62810739, 0.22117966],</span><br><span class="line">        [0.27692999, 0.29420823, 0.881048  , 0.50637681, 0.99317356],</span><br><span class="line">        [0.61826611, 0.13610396, 0.94085436, 0.83689825, 0.05277357]],</span><br><span class="line"></span><br><span class="line">       [[0.56759999, 0.48501222, 0.99744752, 0.36442473, 0.10996119],</span><br><span class="line">        [0.30532853, 0.99185963, 0.01528704, 0.9655763 , 0.07883292],</span><br><span class="line">        [0.69017904, 0.34405313, 0.48902329, 0.90762022, 0.94073407],</span><br><span class="line">        [0.99060258, 0.18003825, 0.15771573, 0.49471469, 0.49768674]],</span><br><span class="line"></span><br><span class="line">       [[0.88907564, 0.60919579, 0.89118723, 0.72911511, 0.88404285],</span><br><span class="line">        [0.10481751, 0.98548878, 0.66120233, 0.29016637, 0.57104031],</span><br><span class="line">        [0.22982642, 0.14531348, 0.26788788, 0.28058991, 0.46626988],</span><br><span class="line">        [0.684612  , 0.34908288, 0.55960948, 0.67505087, 0.04902906]]])</span><br><span class="line"></span><br><span class="line">sn=np.random.randn(3,4,5)</span><br><span class="line"></span><br><span class="line">sn</span><br><span class="line">Out[28]: </span><br><span class="line">array([[[-0.8927074 , -0.07921713, -1.09702413,  0.20266238,</span><br><span class="line">          2.07800266],</span><br><span class="line">        [-0.30521372,  1.07882345,  0.15834808, -0.4657899 ,</span><br><span class="line">         -0.67738772],</span><br><span class="line">        [ 0.52078183,  0.73034311, -0.21416105, -1.77684991,</span><br><span class="line">          0.98170757],</span><br><span class="line">        [ 0.77941776, -0.5389379 ,  0.37604244,  0.31786087,</span><br><span class="line">         -2.37803701]],</span><br><span class="line"></span><br><span class="line">       [[ 0.11112126,  0.49939424, -1.06720594,  1.75672316,</span><br><span class="line">          0.18743589],</span><br><span class="line">        [ 3.23782667,  0.3871532 ,  0.8731636 , -0.8501687 ,</span><br><span class="line">         -0.62653135],</span><br><span class="line">        [ 0.99275262,  1.09478903,  0.15127731,  0.00602239,</span><br><span class="line">          0.72496009],</span><br><span class="line">        [ 0.05037592, -0.07816541,  1.07494759, -1.69539531,</span><br><span class="line">         -1.45367689]],</span><br><span class="line"></span><br><span class="line">       [[ 0.6453074 , -0.97600581, -0.21570961,  0.2988862 ,</span><br><span class="line">          0.73129948],</span><br><span class="line">        [-0.18624953,  1.17215876,  0.53122232, -1.24010898,</span><br><span class="line">          1.05254842],</span><br><span class="line">        [-1.38374598, -0.11569819, -0.1682294 ,  1.10782766,</span><br><span class="line">         -0.15701692],</span><br><span class="line">        [-1.55098208,  0.55973668,  1.84080928, -1.64429112,</span><br><span class="line">         -0.07670816]]])</span><br><span class="line"></span><br><span class="line">b=np.random.randint(100,200,(3,4))</span><br><span class="line">b</span><br><span class="line">Out[30]: </span><br><span class="line">array([[179, 170, 104, 104],</span><br><span class="line">       [109, 120, 114, 116],</span><br><span class="line">       [128, 175, 198, 163]])</span><br><span class="line">       </span><br><span class="line">a=np.random.randint(100,200,(3,4))</span><br><span class="line"></span><br><span class="line">a</span><br><span class="line">Out[32]: </span><br><span class="line">array([[135, 180, 159, 164],</span><br><span class="line">       [107, 185, 165, 185],</span><br><span class="line">       [107, 149, 165, 140]])</span><br><span class="line"></span><br><span class="line">np.random.shuffle(a)</span><br><span class="line"></span><br><span class="line">a</span><br><span class="line">Out[34]: </span><br><span class="line">array([[107, 185, 165, 185],</span><br><span class="line">       [135, 180, 159, 164],</span><br><span class="line">       [107, 149, 165, 140]])</span><br><span class="line"></span><br><span class="line">np.random.permutation(a)</span><br><span class="line">Out[35]: </span><br><span class="line">array([[135, 180, 159, 164],</span><br><span class="line">       [107, 149, 165, 140],</span><br><span class="line">       [107, 185, 165, 185]])</span><br><span class="line"></span><br><span class="line">a</span><br><span class="line">Out[36]: </span><br><span class="line">array([[107, 185, 165, 185],</span><br><span class="line">       [135, 180, 159, 164],</span><br><span class="line">       [107, 149, 165, 140]])</span><br><span class="line">       </span><br><span class="line"> b=np.random.randint(100,200,(8,))</span><br><span class="line"></span><br><span class="line">b</span><br><span class="line">Out[38]: array([155, 117, 150, 145, 193, 119, 152, 166])</span><br><span class="line"></span><br><span class="line">np.random.choice(b,(3,2))</span><br><span class="line">Out[39]: </span><br><span class="line">array([[152, 117],</span><br><span class="line">       [166, 117],</span><br><span class="line">       [145, 145]])</span><br><span class="line"></span><br><span class="line">np.random.choice(b,(3,2),replace=False)</span><br><span class="line">Out[40]: </span><br><span class="line">array([[166, 145],</span><br><span class="line">       [150, 152],</span><br><span class="line">       [119, 117]])</span><br><span class="line">       </span><br><span class="line"># 值越大，抽取概率越大</span><br><span class="line">np.random.choice(b,(3,2),p=b/np.sum(b))</span><br><span class="line">Out[41]: </span><br><span class="line">array([[193, 193],</span><br><span class="line">       [152, 193],</span><br><span class="line">       [152, 193]])</span><br><span class="line"></span><br><span class="line">u=np.random.uniform(0,10,(3,4))</span><br><span class="line"></span><br><span class="line">u</span><br><span class="line">Out[43]: </span><br><span class="line">array([[7.59440693, 9.14123945, 5.69234925, 0.11060994],</span><br><span class="line">       [2.36784092, 0.82206082, 4.70415773, 2.80706347],</span><br><span class="line">       [0.58551754, 0.76346577, 8.6746605 , 0.62805895]])</span><br><span class="line"></span><br><span class="line">n=np.random.normal(10,5,(3,4))</span><br><span class="line"></span><br><span class="line">n</span><br><span class="line">Out[45]: </span><br><span class="line">array([[ 2.50436991,  0.45901779, 18.12367847, 14.49488327],</span><br><span class="line">       [ 9.61865032,  6.03216628, -7.30214271, 11.20063806],</span><br><span class="line">       [ 8.36891732,  9.19299271,  5.53896269,  3.87134051]])</span><br></pre></td></tr></table></figure></td>
<td></td>
</tr>
</tbody></table>
<h3 id="Numpy统计函数"><a href="#Numpy统计函数" class="headerlink" title="Numpy统计函数"></a>Numpy统计函数</h3><p>NumPy直接提供的统计类函数np.*<br>函数 |说明<br>—|—<br>sum(a, axis=None)| 根据给定轴axis计算数组a相关元素之和，axis整数或元组<br>mean(a, axis=None)| 根据给定轴axis计算数组a相关元素的期望，axis整数或元组<br>average(a,axis=None,weights=None)| 根据给定轴axis计算数组a相关元素的加权平均值<br>std(a, axis=None)| 根据给定轴axis计算数组a相关元素的标准差<br>var(a, axis=None)| 根据给定轴axis计算数组a相关元素的方差min(a)  max(a)| 计算数组a中元素的最小值、最大值<br>argmin(a)  argmax(a)| 计算数组a中元素最小值、最大值的降一维后下标<br>unravel_index(index, shape)| 根据shape将一维下标index转换成多维下标<br>ptp(a) |计算数组a中元素最大值与最小值的差<br>median(a)| 计算数组a中元素的中位数（中值）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">Out[47]: </span><br><span class="line">array([[ 0,  1,  2,  3,  4],</span><br><span class="line">       [ 5,  6,  7,  8,  9],</span><br><span class="line">       [10, 11, 12, 13, 14]])</span><br><span class="line">       </span><br><span class="line">np.mean(a)</span><br><span class="line">Out[50]: 7.0</span><br><span class="line"></span><br><span class="line">np.mean(a,axis=1)</span><br><span class="line">Out[51]: array([ 2.,  7., 12.])</span><br><span class="line"></span><br><span class="line">np.mean(a,axis=0)</span><br><span class="line">Out[52]: array([5., 6., 7., 8., 9.])</span><br><span class="line"></span><br><span class="line">np.average(a,axis=0,weights=[10,5,1])</span><br><span class="line">Out[55]: array([2.1875, 3.1875, 4.1875, 5.1875, 6.1875])</span><br><span class="line"></span><br><span class="line">np.std(a)</span><br><span class="line">Out[56]: 4.320493798938574</span><br><span class="line"></span><br><span class="line">np.var(a)</span><br><span class="line">Out[58]: 18.666666666666668</span><br><span class="line"></span><br><span class="line">b=np.arange(15,0,-1).reshape(3,5)</span><br><span class="line"></span><br><span class="line">b</span><br><span class="line">Out[60]: </span><br><span class="line">array([[15, 14, 13, 12, 11],</span><br><span class="line">       [10,  9,  8,  7,  6],</span><br><span class="line">       [ 5,  4,  3,  2,  1]])</span><br><span class="line"></span><br><span class="line">np.max(b)</span><br><span class="line">Out[61]: 15</span><br><span class="line"></span><br><span class="line">np.argmax(b)</span><br><span class="line">Out[62]: 0</span><br><span class="line"></span><br><span class="line">np.unravel_index(np.argmax(b),b.shape)</span><br><span class="line">Out[64]: (0, 0)</span><br><span class="line"></span><br><span class="line">np.ptp(b)</span><br><span class="line">Out[65]: 14</span><br><span class="line"></span><br><span class="line">np.median(b)</span><br><span class="line">Out[66]: 8.0</span><br></pre></td></tr></table></figure>

<h3 id="np-random的梯度函数"><a href="#np-random的梯度函数" class="headerlink" title="np.random的梯度函数"></a>np.random的梯度函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>np.gradient(f)</td>
<td>计算数组f中元素的梯度，当f为多维时，返回每个维度梯度</td>
</tr>
<tr>
<td><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">梯度：连续值之间的变化率，即斜率</span><br><span class="line">XY坐标轴连续三个X坐标对应的Y轴值：a, b, c，其中，b的梯度是： (c‐a)/2</span><br><span class="line"></span><br><span class="line">a=np.random.randint(0,20,(5))</span><br><span class="line"></span><br><span class="line">a</span><br><span class="line">Out[68]: array([ 5, 18, 10,  1, 14])</span><br><span class="line"></span><br><span class="line">np.gradient(a)</span><br><span class="line">Out[69]: array([13. ,  2.5, -8.5,  2. , 13. ])</span><br><span class="line"># 最边界的值用最后两个值相减除1，(18-5)/1=13,（14-1）/1=13</span><br><span class="line"></span><br><span class="line"># 二维梯度</span><br><span class="line">c=np.random.randint(0,50,(3,5))</span><br><span class="line">c</span><br><span class="line">Out[71]: </span><br><span class="line">array([[47, 25, 46,  3, 45],</span><br><span class="line">       [47, 17, 15, 21, 22],</span><br><span class="line">       [32,  5, 19, 49, 16]])</span><br><span class="line"></span><br><span class="line">np.gradient(c)</span><br><span class="line">Out[72]: </span><br><span class="line">[array([[  0. ,  -8. , -31. ,  18. , -23. ],</span><br><span class="line">        [ -7.5, -10. , -13.5,  23. , -14.5],</span><br><span class="line">        [-15. , -12. ,   4. ,  28. ,  -6. ]]),</span><br><span class="line"> array([[-22. ,  -0.5, -11. ,  -0.5,  42. ],</span><br><span class="line">        [-30. , -16. ,   2. ,   3.5,   1. ],</span><br><span class="line">        [-27. ,  -6.5,  22. ,  -1.5, -33. ]])]</span><br><span class="line">两个array分别粮食最外层，第二层维度的梯度，分别按列，按行计算</span><br></pre></td></tr></table></figure></td>
<td></td>
</tr>
</tbody></table>
</div><div class="tags"><a href="/tags/数据分析/">数据分析</a></div><div class="post-nav"><a class="pre" href="/2019/04/03/Python数据分析与展示_4_Pandas库入门/">Python数据分析与展示_4_Pandas库入门</a><a class="next" href="/2019/04/01/Python数据分析与展示_2_Numpy库入门/">Python数据分析与展示_2_Numpy库入门</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://yoursite.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/javaweb/">javaweb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/博客配置/">博客配置</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/电脑/">电脑</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/IDEA/" style="font-size: 15px;">IDEA</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/数据分析/" style="font-size: 15px;">数据分析</a> <a href="/tags/计算机网络/" style="font-size: 15px;">计算机网络</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/odoo/" style="font-size: 15px;">odoo</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">香蕉弦定李.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>